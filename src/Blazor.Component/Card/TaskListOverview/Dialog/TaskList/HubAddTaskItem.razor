<MudDialog>
    <TitleContent>
        @(TaskItemToEdit is null ? "Add New Task" : "Edit Task")
    </TitleContent>
    <DialogContent>
        <MudStack Spacing="4" Class="my-4">
            <MudTextField
                Required="true"
                Label="Task Name"
                @bind-Value="_taskName"
                Variant="Variant.Outlined"/>

            <MudAutocomplete T="string"
                             Label="Room"
                             Required="true"
                             CoerceValue="true"
                             @bind-Value="_room"
                             SearchFunc="@SearchRooms"
                             Variant="Variant.Outlined"
                             ResetValueOnEmptyText="true"/>

            <MudAutocomplete T="string"
                             Required="true"
                             Label="Assignee"
                             CoerceValue="true"
                             @bind-Value="_assignee"
                             Variant="Variant.Outlined"
                             ResetValueOnEmptyText="true"
                             SearchFunc="@SearchAssignees"/>

            <MudSelect @bind-Value="_frequency" Label="Frequency" Variant="Variant.Outlined">
                @foreach (Frequency item in Enum.GetValues<Frequency>())
                {
                    <MudSelectItem Value="@item">@item</MudSelectItem>
                }
            </MudSelect>
        </MudStack>
    </DialogContent>
    <DialogActions>
        <MudButton
            FullWidth="true"
            OnClick="@Cancel"
            Variant="Variant.Text">
            Cancel
        </MudButton>
        <MudButton
            FullWidth="true"
            OnClick="@Submit"
            Color="Color.Primary"
            Variant="Variant.Filled">
            @(TaskItemToEdit is null ? "Add Task" : "Save Changes")
        </MudButton>
    </DialogActions>
</MudDialog>